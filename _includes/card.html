{% assign filname = include.content %}
{% assign url = include.url %}
<div
    class="card lg:h-56 lg:w-60 m-2 border border-gray-100 shadow-sm rounded-lg hover:shadow-md hover:border-opacity-0 transform hover:-translate-y-1 transition-all duration-300 dark:border-gray-700 dark:text-gray-300 dark:bg-gray-800">
    <a href="{{url}}" rel="noopener noreferrer">
        <div class="m-4">
            <h2 class="text-lg mb-2">
                {% if site.data.ransomware[filname].details.status == "Active" %}
                <span
                    class="bg-green-100 text-green-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-green-300 dark:text-green-900">{{
                    site.data.ransomware[filname].details.status }}
                </span>
                {%else%}
                <span
                    class="bg-red-100 text-red-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-red-300 dark:text-red-900">{{
                    site.data.ransomware[filname].details.status }}
                </span>
                {%endif%}
                
                {% for threat in site.data.ransomware[filname].threats %}
                <span class="text-sm text-gray-800 font-mono tooltip inline rounded-full px-1 align-top float-right">
                    <button data-tooltip-target="tooltip-animation-{{ filname }}-{{ threat.id }}" type="button"
                        class="pt-2 text-black focus:ring-4 focus:outline-none focus:ring-blue-300 font-bold text-base underline text-center dark:text-white dark:focus:ring-blue-800">{{threat.icon}}
                    </button>
                    <div id="tooltip-animation-{{ filname }}-{{ threat.id }}" role="tooltip"
                        class="inline-block absolute invisible z-50 py-2 px-4 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 transition-opacity duration-300 tooltip dark:bg-gray-700"
                        style="position: absolute; inset: 0px auto auto 0px; margin: 0px; transform: translate(0px, 8px);"
                        data-popper-reference-hidden="" data-popper-escaped="" data-popper-placement="bottom">
                        {{threat.description}}
                        <div class="tooltip-arrow" data-popper-arrow=""
                            style="position: absolute; left: 0px; transform: translate(0px, 0px);">
                        </div>
                    </div>
                </span>
                {% endfor %}
            {% assign dec_id = site.data.ransomware[filname].details.Decryptors[0].id %}
            {% if site.data.ransomware[filname].details.Decryptors!= empty %}
            <span class="text-sm text-gray-800 font-mono tooltip inline rounded-full px-1 align-top float-right">
                <button data-tooltip-target="tooltip-animation-{{filname}}-dec{{ dec_id }}" type="button"
                    class="pt-2 text-green-500 focus:ring-4 focus:outline-none focus:ring-blue-300 font-bold text-base underline text-center dark:focus:ring-blue-800">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4">
                        <path fill-rule="evenodd" d="M9.661 2.237a.531.531 0 01.678 0 11.947 11.947 0 007.078 2.749.5.5 0 01.479.425c.069.52.104 1.05.104 1.59 0 5.162-3.26 9.563-7.834 11.256a.48.48 0 01-.332 0C5.26 16.564 2 12.163 2 7c0-.538.035-1.069.104-1.589a.5.5 0 01.48-.425 11.947 11.947 0 007.077-2.75zm4.196 5.954a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd" />
                      </svg>
                </button>
                <div id="tooltip-animation-{{filname}}-dec{{ dec_id }}" role="tooltip"
                    class="inline-block absolute invisible z-50 py-2 px-4 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 transition-opacity duration-300 tooltip dark:bg-gray-700"
                    style="position: absolute; inset: 0px auto auto 0px; margin: 0px; transform: translate(0px, 8px);"
                    data-popper-reference-hidden="" data-popper-escaped="" data-popper-placement="bottom">
                    Public Decryptor Available
                    <div class="tooltip-arrow" data-popper-arrow=""
                        style="position: absolute; left: 0px; transform: translate(0px, 0px);">
                    </div>
                </div>
            </span>
            {%else%}
            <span class="text-sm text-gray-800 font-mono tooltip inline rounded-full px-1 align-top float-right">
                <button data-tooltip-target="tooltip-animation-{{filname}}-nodec" type="button"
                    class="pt-2 text-red-500 focus:ring-4 focus:outline-none focus:ring-blue-300 font-bold text-base underline text-center dark:focus:ring-blue-800">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4">
                        <path fill-rule="evenodd" d="M10.339 2.237a.532.532 0 00-.678 0 11.947 11.947 0 01-7.078 2.75.5.5 0 00-.479.425A12.11 12.11 0 002 7c0 5.163 3.26 9.564 7.834 11.257a.48.48 0 00.332 0C14.74 16.564 18 12.163 18 7.001c0-.54-.035-1.07-.104-1.59a.5.5 0 00-.48-.425 11.947 11.947 0 01-7.077-2.75zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                      </svg>                      
                </button>
                <div id="tooltip-animation-{{filname}}-nodec" role="tooltip"
                    class="inline-block absolute invisible z-50 py-2 px-4 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 transition-opacity duration-300 tooltip dark:bg-gray-700"
                    style="position: absolute; inset: 0px auto auto 0px; margin: 0px; transform: translate(0px, 8px);"
                    data-popper-reference-hidden="" data-popper-escaped="" data-popper-placement="bottom">
                    No Decryptor Available
                    <div class="tooltip-arrow" data-popper-arrow
                        style="position: absolute; left: 0px; transform: translate(0px, 0px);">
                    </div>
                </div>
            </span>
            {% endif %}
            </h2>
            <h1 class="mb-4 mt-4 text-3xl text-center font-light text-blue-600 dark:text-blue-400">
                {{ site.data.ransomware[filname].details.Name }}
            </h1>
            {% if site.data.ransomware[filname].details.Alias != empty %}
            <p class="mt-4 font-mono text-ellipsis text-center text-xs text-gray-500 dark:text-gray-400"
                style="  display: -webkit-box;-webkit-line-clamp: 3;-webkit-box-orient: vertical;overflow: hidden;">
                - {{ site.data.ransomware[filname].details.Alias | join: ", " }}
            </p>
            {%else%}
            <p class="mt-2 font-mono text-ellipsis text-center text-xs text-gray-500 dark:text-gray-400"
                style="  display: -webkit-box;-webkit-line-clamp: 5;-webkit-box-orient: vertical;overflow: hidden;">
                - N/A
            </p>
            <p class="mt-2 font-mono text-ellipsis text-center text-xs text-gray-500 dark:text-gray-400">
                <span class="underline text-xs font-mono capitalize text-gray-600 dark:text-gray-400">#phishing</span>
                <span class="underline text-xs font-mono capitalize text-gray-600 dark:text-gray-400">#Dridex</span>
                <span class="underline text-xs font-mono capitalize text-gray-600 dark:text-gray-400">#cobaltStrike</span>
                <span class="underline text-xs font-mono capitalize text-gray-600 dark:text-gray-400">#RedLineStealer</span>
            </p>
            {%endif%}
        </div>
    </a>
</div>